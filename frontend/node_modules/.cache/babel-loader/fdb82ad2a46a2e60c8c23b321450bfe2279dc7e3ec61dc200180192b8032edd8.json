{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useCallback, useState } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { toast } from 'react-toastify';\nimport RentService from \"../services/RentService\";\nexport function useRent() {\n  _s();\n  console.log('holauserent');\n  const navigate = useNavigate();\n  const [rents, setRents] = useState([]);\n  const [isCorrect, setIsCorrect] = useState(false);\n  const {\n    pathname\n  } = useLocation();\n  useEffect(() => {\n    const path = pathname.split('/')[1];\n    if (path === 'dashboard') {\n      RentService.getAllRents().then(_ref => {\n        let {\n          data,\n          status\n        } = _ref;\n        if (status === 200) {\n          setRents(data);\n        }\n      }).catch(e => console.error(e));\n    }\n  }, []);\n  const useRentBici = slot => {\n    RentService.rentBici(slot).then(_ref2 => {\n      let {\n        data,\n        status\n      } = _ref2;\n      if (status == 200) {\n        toast.success(\"Bici rented, thank you!\");\n        setIsCorrect(true);\n        setTimeout(() => {\n          setIsCorrect(false);\n        }, 1000);\n      }\n    }).catch(() => {\n      toast.warning(\"You can't rent more than 1 scooter\");\n    });\n  };\n  const useBringBackBici = slot => {\n    RentService.getOneRent().then(_ref3 => {\n      let {\n        data,\n        status\n      } = _ref3;\n      if (status == 200) {\n        slot.bici_id = data.bici;\n        RentService.bringBackBici(slot).then(_ref4 => {\n          let {\n            data,\n            status\n          } = _ref4;\n          if (status == 200) {\n            toast.success(\"Bici bringed back, thank you!\");\n            setIsCorrect(true);\n            setTimeout(() => {\n              setIsCorrect(false);\n            }, 1000);\n          }\n        }).catch(e => {\n          toast.error(e.response.data[0]);\n        });\n      }\n    }).catch(() => {\n      toast.warning(\"You don't have any bici\");\n    });\n  };\n  const useDeleteRent = id => {\n    RentService.deleteRent(id).then(_ref5 => {\n      let {\n        data,\n        status\n      } = _ref5;\n      if (status === 200) {\n        setRents(rents.filter(rent => rent.id !== id));\n        toast.success(data.data);\n      }\n    }).catch(e => console.error(e));\n  };\n  return {\n    isCorrect,\n    setIsCorrect,\n    rents,\n    setRents,\n    useRentBici,\n    useBringBackBici,\n    useDeleteRent\n  };\n}\n_s(useRent, \"2C54VDV/HcCegoHdh6wowx7IW0E=\", false, function () {\n  return [useNavigate, useLocation];\n});","map":{"version":3,"names":["useEffect","useCallback","useState","useNavigate","useLocation","toast","RentService","useRent","_s","console","log","navigate","rents","setRents","isCorrect","setIsCorrect","pathname","path","split","getAllRents","then","_ref","data","status","catch","e","error","useRentBici","slot","rentBici","_ref2","success","setTimeout","warning","useBringBackBici","getOneRent","_ref3","bici_id","bici","bringBackBici","_ref4","response","useDeleteRent","id","deleteRent","_ref5","filter","rent"],"sources":["/app/src/hooks/useRent.jsx"],"sourcesContent":["import { useEffect, useCallback, useState } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { toast } from 'react-toastify';\r\nimport RentService from \"../services/RentService\";\r\n\r\nexport function useRent() {\r\n    console.log('holauserent');\r\n    const navigate = useNavigate();\r\n    const [rents, setRents] = useState([]);\r\n    const [isCorrect, setIsCorrect] = useState(false);\r\n    const { pathname } = useLocation();\r\n\r\n    useEffect(() => {\r\n        const path = pathname.split('/')[1];\r\n        if (path === 'dashboard') {\r\n            RentService.getAllRents()\r\n                .then(({ data, status }) => {\r\n                    if (status === 200) {\r\n                        setRents(data);\r\n                    }\r\n                })\r\n                .catch(e => console.error(e));\r\n        }\r\n    }, []);\r\n\r\n    const useRentBici = (slot) => {\r\n        RentService.rentBici(slot)\r\n            .then(({ data, status }) => {\r\n                if (status == 200) {\r\n                    toast.success(\"Bici rented, thank you!\")\r\n                    setIsCorrect(true);\r\n                    setTimeout(() => { setIsCorrect(false); }, 1000);\r\n                }\r\n            })\r\n            .catch(() => {\r\n                toast.warning(\"You can't rent more than 1 scooter\")\r\n            });\r\n    }\r\n\r\n    const useBringBackBici = (slot) => {\r\n        RentService.getOneRent()\r\n            .then(({ data, status }) => {\r\n                if (status == 200) {\r\n                    slot.bici_id = data.bici;\r\n                    RentService.bringBackBici(slot)\r\n                        .then(({ data, status }) => {\r\n                            if (status == 200) {\r\n                                toast.success(\"Bici bringed back, thank you!\")\r\n                                setIsCorrect(true);\r\n                                setTimeout(() => { setIsCorrect(false); }, 1000);\r\n                            }\r\n                        })\r\n                        .catch((e) => {\r\n                            toast.error(e.response.data[0]);\r\n                        });\r\n                }\r\n            })\r\n            .catch(() => {\r\n                toast.warning(\"You don't have any bici\")\r\n            });\r\n    }\r\n\r\n    const useDeleteRent = (id) => {\r\n        RentService.deleteRent(id)\r\n            .then(({ data, status }) => {\r\n                if (status === 200) {\r\n                    setRents(rents.filter(rent => rent.id !== id));\r\n                    toast.success(data.data);\r\n                }\r\n            })\r\n            .catch(e => console.error(e));\r\n    }\r\n    \r\n\r\n    return { isCorrect, setIsCorrect, rents, setRents, useRentBici, useBringBackBici, useDeleteRent }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}